{% extends "layout.html" %} {% block title %}Prediction - Wildfire
Intelligence{% endblock %} {% block header %}
<link
    rel="stylesheet"
    href="{{url_for('static', filename='css/prediction.css')}}" />

{% endblock %} {% block main %}
<!-- max-w-4xl -->
<main
    class="w-full max-w-[60rem] mx-auto flex-grow min-h-screen flex flex-col p-4 sm:p-6 lg:p-8">
    <fieldset>
        <form
            method="POST"
            onsubmit="waitForResponse()">
            <div
                class="space-y-6 fire-glow-border bg-[var(--glass-bg)] p-6 md:p-8 rounded-2xl"
                id="prediction-form">
                <div>
                    <div class="flex justify-between items-center mb-2">
                        <label
                            class="block text-sm font-medium text-[var(--text-secondary)]"
                            >Latitude &amp; Longitude
                            <span class="tooltip text-gray-400 cursor-help"
                                >(?)
                                <span class="tooltiptext"
                                    >Enter the specific coordinates for the
                                    prediction or use the interactive map to
                                    select a location.</span
                                >
                            </span>
                        </label>
                        <button
                            data-bs-toggle="modal"
                            data-bs-target="#mapModal"
                            class="flex items-center gap-2 px-3 py-1.5 text-xs font-bold rounded-lg bg-[var(--brand-orange)] text-white transition-colors"
                            type="button">
                            <svg
                                fill="currentColor"
                                height="14"
                                viewBox="0 0 256 256"
                                width="14"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,33.1,19.91,68.83,43.31,97.29a144.13,144.13,0,0,0,36.82,28.24,8,8,0,0,0,9.74,0A144.13,144.13,0,0,0,172.69,200C196.09,171.83,216,136.1,216,104A88.1,88.1,0,0,0,128,16Zm0,208.75c-15.35-11.5-35.33-35.5-52.69-63.45C56.63,130.27,48,103,48,104a80,80,0,1,1,160,0c0,.7-8.63,26.27-27.31,57.3C163.33,189.25,143.35,213.25,128,224.75Z"></path>
                            </svg>
                            Interactive Map
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <input
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="fire_location_latitude"
                            name="fire_location_latitude"
                            placeholder="Latitude e.g., 53.5444"
                            type="text"
                            required />
                        <input
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="fire_location_longitude"
                            name="fire_location_longitude"
                            placeholder="Longitude e.g., -113.4909"
                            type="text"
                            required />
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- <div class="relative">
                        <label
                            class="block text-sm font-medium text-[var(--text-secondary)] mb-2"
                            for="fire_year"
                            >Fire Year
                            <span class="tooltip text-gray-400 cursor-help"
                                >(?)
                                <span class="tooltiptext"
                                    >The year the fire is predicted to occur.
                                    Historical data up to the previous year is
                                    used.</span
                                >
                            </span>
                        </label>
                        <input
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="fire_year"
                            name="fire_year"
                            placeholder="e.g., 2024"
                            type="number"
                            required />
                    </div> -->
                    <div class="relative">
                        <label
                            class="block text-sm font-medium text-[var(--text-secondary)] mb-2"
                            for="weather_conditions_over_fire"
                            >Weather Conditions
                            <span class="tooltip text-gray-400 cursor-help"
                                >(?)
                                <span class="tooltiptext"
                                    >The prevailing weather pattern at the time
                                    of prediction.</span
                                >
                            </span>
                        </label>
                        <select
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="weather_conditions_over_fire"
                            name="weather_conditions_over_fire"
                            required>
                            <option value="">Select Weather Conditions</option>
                            <option value="CB Dry">Dry Cumulonimbus</option>
                            <option value="CB Wet">Wet Cumulonimbus</option>
                            <option value="Clear">Clear</option>
                            <option value="Cloudy">Cloudy</option>
                            <option value="Rainshowers">Rainshowers</option>
                        </select>
                    </div>
                    <div class="relative">
                        <label
                            class="block text-sm font-medium text-[var(--text-secondary)] mb-2"
                            for="fuel_type"
                            >Fuel Type
                            <span class="tooltip text-gray-400 cursor-help"
                                >(?)
                                <span class="tooltiptext"
                                    >The dominant type of combustible vegetation
                                    in the area.</span
                                >
                            </span>
                        </label>
                        <select
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="fuel_type"
                            name="fuel_type"
                            required>
                            <option value="">Select Fuel Type</option>
                            <option value="C1">
                                C1 (spruce-lichen woodland)
                            </option>
                            <option value="C2">C2 (boreal spruce)</option>
                            <option value="C3">
                                C3 (mature Jack or Lodgepole Pine)
                            </option>
                            <option value="C4">
                                C4 (immature Jack or Lodgepole Pine)
                            </option>
                            <option value="C6">
                                C6 (conifer plantation Deciduous)
                            </option>
                            <option value="C7">C7 (C7)</option>
                            <option value="D1">
                                D1 (leafless Aspen Mixedwood):
                            </option>
                            <option value="M1">
                                M1 (boreal mixedwood - leafless)
                            </option>
                            <option value="M2">
                                M2 (boreal mixedwood - green)
                            </option>
                            <option value="M3">
                                M3 (dead Balsam fir mixedwood - leafless)
                            </option>
                            <option value="M4">
                                M4 (dead Balsam fir mixedwood-green Slash)
                            </option>
                            <option value="O1a">O1a (matted grass)</option>
                            <option value="O1b">O1b (standing grass)</option>
                            <option value="S1">
                                S1 (Jack or Lodgepole Pine slash)
                            </option>
                            <option value="S2">
                                S2 (White Spruce - Balsam slash Grass)
                            </option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="relative">
                        <label
                            class="block text-sm font-medium text-[var(--text-secondary)] mb-2"
                            for="general_cause_desc"
                            >Cause of Fire
                            <span class="tooltip text-gray-400 cursor-help"
                                >(?)
                                <span class="tooltiptext"
                                    >The suspected or known cause of
                                    ignition.</span
                                >
                            </span>
                        </label>
                        <select
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="general_cause_desc"
                            name="general_cause_desc"
                            required>
                            <option value="">Select Cause of Fire</option>
                            <option>Forest Industry</option>
                            <option>Incendiary</option>
                            <option>Lightning</option>
                            <option>Miscellaneous Known</option>
                            <option>Oil & Gas Industry</option>
                            <option>Other Industry</option>
                            <option>Power Line Industry</option>
                            <option>Prescribed Fire</option>
                            <option>Railroad</option>
                            <option>Recreation</option>
                            <option>Resident</option>
                            <option>Restart</option>
                            <option>Undetermined</option>
                        </select>
                    </div>
                    <div class="relative">
                        <label
                            class="block text-sm font-medium text-[var(--text-secondary)] mb-2"
                            for="fire_origin"
                            >Fire Origin
                            <span class="tooltip text-gray-400 cursor-help"
                                >(?)
                                <span class="tooltiptext"
                                    >Description of fire origin location.</span
                                >
                            </span>
                        </label>
                        <select
                            class="w-full bg-[var(--surface-bg)] border border-[var(--border-color)] text-white rounded-lg p-3 focus:ring-2 focus:ring-[var(--brand-orange)] focus:border-[var(--brand-orange)] transition"
                            id="fire_origin"
                            name="fire_origin"
                            required>
                            <option value="">Select Fire Origin</option>
                            <option>DND</option>
                            <option>Indian Reservation</option>
                            <option>Metis Settlement</option>
                            <option>Private Land</option>
                            <option>Provincial Land</option>
                            <option>Provincial Park</option>
                            <option>Saskatchewan</option>
                        </select>
                    </div>
                </div>
                <div class="relative">
                    <label
                        class="block text-sm font-medium text-[var(--text-secondary)] mb-2"
                        for="fire_type"
                        >Fire Type
                        <span class="tooltip text-gray-400 cursor-help"
                            >(?)
                            <span class="tooltiptext"
                                >The primary manner in which the fire is
                                expected to burn.</span
                            >
                        </span>
                    </label>
                    <div class="flex gap-4">
                        <label
                            class="flex-1 text-center py-2 px-3 bg-[var(--surface-bg)] border border-[var(--border-color)] rounded-lg text-sm text-white has-[:checked]:bg-[var(--brand-orange)] has-[:checked]:border-[var(--brand-orange)] transition cursor-pointer">
                            <input
                                checked=""
                                class="sr-only"
                                name="fire_type"
                                type="radio"
                                value="Surface"
                                required />
                            Surface
                        </label>
                        <label
                            class="flex-1 text-center py-2 px-3 bg-[var(--surface-bg)] border border-[var(--border-color)] rounded-lg text-sm text-white has-[:checked]:bg-[var(--brand-orange)] has-[:checked]:border-[var(--brand-orange)] transition cursor-pointer">
                            <input
                                class="sr-only"
                                name="fire_type"
                                type="radio"
                                value="Crown"
                                required />
                            Crown
                        </label>
                        <label
                            class="flex-1 text-center py-2 px-3 bg-[var(--surface-bg)] border border-[var(--border-color)] rounded-lg text-sm text-white has-[:checked]:bg-[var(--brand-orange)] has-[:checked]:border-[var(--brand-orange)] transition cursor-pointer">
                            <input
                                class="sr-only"
                                name="fire_type"
                                type="radio"
                                value="Ground"
                                required />
                            Ground
                        </label>
                    </div>
                </div>
                <input
                    id="submit_input"
                    class="w-full mt-6 py-3 px-6 bg-[var(--brand-yellow)] text-black text-base font-bold rounded-lg hover:opacity-90 transition-opacity cursor-pointer"
                    type="submit"
                    value="Submit for Prediction" />
            </div>
            <div
                class="flex flex-col sm:flex-row items-center justify-center gap-4 pt-5">
                <input
                    onclick="resetForm()"
                    class="w-full sm:w-auto py-2 px-6 bg-[var(--surface-bg)] text-white text-sm font-bold rounded-lg hover:bg-opacity-70 border border-[var(--border-color)] transition-all cursor-pointer"
                    type="reset"
                    value="Reset / Predict Again" />
                <a
                    class="w-full sm:w-auto text-center py-2 px-6 bg-[var(--brand-orange)] text-white text-sm font-bold rounded-lg hover:opacity-90 transition-opacity"
                    href="{{ url_for('main') }}">
                    Back to WildWatchmen Home
                </a>
            </div>
        </form>
    </fieldset>

    <div id="prediction_container">
        {% if not prediction %}
        <div
            class="mt-10 rounded-lg overflow-hidden border border-[var(--border-color)]">
            {{folium_map|safe}}
        </div>
        {% endif %} {% if prediction %}
        <div
            class="mt-8 space-y-6"
            id="prediction-results">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                <div
                    class="bg-[var(--surface-bg)] p-5 rounded-lg border border-[var(--border-color)] text-center content-center">
                    <p class="text-sm font-medium text-[var(--text-secondary)]">
                        Fire Size Class
                    </p>
                    <p class="text-4xl font-bold text-white mt-3">
                        {{prediction.fireClass}}
                    </p>
                </div>
                <div
                    class="bg-[var(--surface-bg)] p-5 rounded-lg border border-[var(--border-color)] text-center content-center">
                    <p class="text-sm font-medium text-[var(--text-secondary)]">
                        Range
                    </p>
                    <p class="text-2xl font-bold text-white mt-3">
                        {{prediction.rangeHa}} <br />
                        <span class="text-base font-medium text-gray-400">
                            (r = {{prediction.radius|round(3)}} meters)
                        </span>
                    </p>
                </div>
                <div
                    class="bg-[var(--surface-bg)] p-5 rounded-lg border border-[var(--border-color)] text-center content-center">
                    <p class="text-sm font-medium text-[var(--text-secondary)]">
                        Severity Level
                    </p>
                    <p class="text-3xl font-bold text-white mt-3">
                        {{prediction.severity}}
                    </p>
                </div>
            </div>
        </div>
        <!--
        <div
            class="bg-[var(--surface-bg)] p-6 rounded-lg border border-[var(--border-color)]">
            <h3 class="text-xl font-bold text-white mb-4">
                Fire Prediction Chart
            </h3>
            <div
                class="h-64 bg-black/20 rounded-md flex items-center justify-center">
                <p class="text-[var(--text-secondary)]">
                    Chart will be displayed here upon prediction.
                </p>
            </div>
        </div>
        -->
        <div
            class="mt-10 rounded-lg overflow-hidden border border-[var(--border-color)]">
            {{folium_map|safe}}
        </div>
        {% if variants %}
        <h1 class="text-3xl font-bold text-white mt-8">Feature Variations</h1>
        <hr style="border-color: #444444" />

        {% for feature, data in variants.items() %} {% if not data.empty %}
        <div
            class="feature-title bg-[var(--surface-bg)] p-6 rounded-lg border border-[var(--border-color)] mt-10">
            <h2 class="text-xl font-bold text-white mb-4>">
                {{feature.title()}}
            </h2>
            <div class="flex flex-wrap justify-center gap-4 mt-8">
                {% for index, row in data.iterrows() %}
                <div
                    class="feature-click cursor-pointer bg-[var(--surface-bg)] p-5 rounded-lg border border-[var(--border-color)] text-center content-center min-w-[150px]">
                    <p
                        class="feature-click feature-text cursor-pointer text-sm font-medium text-[var(--text-secondary)]">
                        {{ row[feature]|safe }}
                    </p>
                    <p
                        class="feature-click cursor-pointer text-2xl font-bold text-white mt-3">
                        {{ row['prediction_label']|safe }}
                    </p>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %} {% endfor %} {% endif %} {% if not critical_sorted.empty %}
        <h1 class="text-3xl font-bold text-white mt-8">Critical Cases</h1>
        <hr style="border-color: #444444" />
        <div
            class="relative overflow-x-auto mt-10 rounded-lg border border-[var(--border-color)]">
            <table
                id="critical_cases_table"
                class="table-auto w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
                <thead
                    class="text-xs text-gray-700 uppercase bg-[var(--background-color)] dark:text-gray-400">
                    <tr
                        class="border-b bg-[var(--background-color)] dark:border-gray-700 border-gray-200">
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Fire Origin
                        </th>
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Fuel Type
                        </th>
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Weather
                        </th>
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Cause
                        </th>
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Fire Type
                        </th>
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Class
                        </th>
                        <th
                            scope="col"
                            class="px-6 py-3">
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for row in critical_sorted %}
                    <tr
                        class="bg-[var(--surface-bg)] border-b dark:border-gray-700 border-gray-200 hover:bg-gray-800">
                        <!-- {{ row.prediction_label }} - Lat: {{ row.fire_location_latitude }} | Lon: {{ row.fire_location_longitude }} -->
                        <td class="px-6 py-4">{{row.fire_origin}}</td>
                        <td class="px-6 py-4">{{row.fuel_type}}</td>
                        <td class="px-6 py-4">
                            {{row.weather_conditions_over_fire}}
                        </td>
                        <td class="px-6 py-4">{{row.general_cause_desc}}</td>
                        <td class="px-6 py-4">{{row.fire_type}}</td>
                        <td class="px-6 py-4">{{row.prediction_label}}</td>
                        <td class="px-6 py-4">
                            <a
                                href="#"
                                class="load-link font-medium text-blue-600 dark:text-blue-500 hover:underline cursor-pointer"
                                >Load</a
                            >
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}{% endif %}
    </div>
    {% if error %}
    <div
        class="mt-10 p-6 rounded-lg bg-[var(--surface-bg)] border border-[var(--border-color)] text-[var(--text-primary)]"
        id="error">
        ❌ Error: {{ error }}
    </div>

    {% endif %}
</main>
<div
    class="modal fade"
    id="mapModal"
    tabindex="-1"
    aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <span
                class="close-button"
                data-bs-dismiss="modal"
                >&times;</span
            >
            <div class="modal-body p-0">
                <iframe
                    src="/map"
                    width="100%"
                    height="500px"
                    style="border: none"
                    id="mapFrame"></iframe>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // const fire_year = document.querySelector('[name="fire_year"]')
    const fire_location_latitude = document.querySelector('[name="fire_location_latitude"]')
    const fire_location_longitude = document.querySelector('[name="fire_location_longitude"]')
    const fuelType = document.querySelector('[name="fuel_type"]');
    const weatherConditions = document.querySelector('[name="weather_conditions_over_fire"]');
    const generalCause = document.querySelector('[name="general_cause_desc"]');
    const fireOrigin = document.querySelector('[name="fire_origin"]');
    const submit_input = document.querySelector('#submit_input')

    window.onload = function() {
        // prettier-ignore
        {% if form_data %}

        // fire_year.value = '{{ form_data.fire_year or "" }}';
        fire_location_latitude.value = '{{ form_data.fire_location_latitude or "" }}';
        fire_location_longitude.value = '{{ form_data.fire_location_longitude or "" }}';
        if (fuelType) fuelType.value = '{{ form_data.fuel_type or "" }}';
        if (weatherConditions) weatherConditions.value = '{{ form_data.weather_conditions_over_fire or "" }}';
        if (generalCause) generalCause.value = '{{ form_data.general_cause_desc or "" }}';
        if (fireOrigin) fireOrigin.value = '{{ form_data.fire_origin or "" }}';

        const fireTypeRadio = document.querySelector('[name="fire_type"][value="{{ form_data.fire_type or "" }}"]');
        if (fireTypeRadio) fireTypeRadio.checked = true;

        // prettier-ignore
        {% endif %}
    };

    // prettier-ignore
    {% if prediction %}
        document.querySelector("#prediction_container").scrollIntoView({ behavior: 'smooth' });
    // prettier-ignore
    {% elif error %}
        document.querySelector("#error").scrollIntoView({ behavior: 'smooth' });
    // prettier-ignore
    {% endif %}

    function waitForResponse() {
        document.querySelector('#submit_input').value="Processing ..."

        const style = document.createElement('style');
        style.textContent = 'main * { cursor: wait !important; }';
        document.head.appendChild(style);

        document.getElementById("prediction_container").style.display = "none";
    }

    document.getElementById("prediction_container").addEventListener('click', function(e){
        if (event.target.classList.contains('load-link')) {
            event.preventDefault();

            const row = event.target.closest('tr');

            if (row) {
                const cells = row.querySelectorAll('td');

                const fire_origin = cells[0].textContent.trim();
                const fuel_type = cells[1].textContent.trim();
                const weather = cells[2].textContent.trim();
                const cause = cells[3].textContent.trim();
                const fire_type = cells[4].textContent.trim();

                if (fuelType) fuelType.value = fuel_type;
                if (weatherConditions) weatherConditions.value = weather;
                if (generalCause) generalCause.value = cause;
                if (fireOrigin) fireOrigin.value = fire_origin;

                const fireTypeRadio = document.querySelector('[name="fire_type"][value="' + fire_type + '"]');
                if (fireTypeRadio) fireTypeRadio.checked = true;

                // userIdInput.value = id;
                // userNameInput.value = name;
                // userEmailInput.value = email;

                submit_input.click();
                prediction_container.style.display = "none";
            }
        } else if (event.target.classList.contains('feature-click')) {
            event.preventDefault();

            let row = {};

            if (event.target.classList.contains('feature-text') ) {
                row = event.target

            } else if (event.target.querySelector('.feature-text') ) {
                row = event.target.querySelector('.feature-text')
            } else {
                row = event.target.previousElementSibling
            }

            title_container = row.closest('.feature-title')
            title = title_container.querySelector('h2')

            if (title.innerText.toLowerCase() == 'fire_type') {
                const fireTypeRadio = document.querySelector('[name="fire_type"][value="' + row.innerText + '"]');
                if (fireTypeRadio) fireTypeRadio.checked = true;
            } else {
                const field = document.querySelector('[name="' + title.innerText.toLowerCase() + '"]');
                field.value = row.innerText
            }

            submit_input.click();
            prediction_container.style.display = "none";

        }
    })

    function resetForm() {
        prediction_container.style.display = "none";
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    window.addEventListener("message", function(event) {
        if (event.data.type === "coords") {
            document.getElementById("fire_location_latitude").value = event.data.lat.toFixed(6);;
            document.getElementById("fire_location_longitude").value = event.data.lng.toFixed(6);;
            let modal = bootstrap.Modal.getInstance(document.getElementById("mapModal"));
            modal.hide();
        }
    });

    document.addEventListener("keydown", function (e) {
        if (e.ctrlKey && e.key === "1") {
            e.preventDefault();

            fire_location_latitude.value = 51.037076;
            fire_location_longitude.value = -114.058966;
            // fire_year.value = '2000'
            if (fuelType) fuelType.value = 'C1';
            if (weatherConditions) weatherConditions.value = 'CB Dry';
            if (generalCause) generalCause.value = 'Lightning';
            if (fireOrigin) fireOrigin.value = 'DND';

            const fireTypeRadio = document.querySelector('[name="fire_type"][value="Ground"]');
            if (fireTypeRadio) fireTypeRadio.checked = true;
        }
    });

    document.addEventListener("keydown", function (e) {
      if (e.ctrlKey && e.key === "2") {
        e.preventDefault();

        fire_location_latitude.value = 51.219800;
        fire_location_longitude.value = -114.547532;
        // fire_year.value = '2000'
        if (fuelType) fuelType.value = 'C6';
        if (weatherConditions) weatherConditions.value = 'Clear';
        if (generalCause) generalCause.value = 'Power Line Industry';
        if (fireOrigin) fireOrigin.value = 'Provincial Park';

        const fireTypeRadio = document.querySelector('[name="fire_type"][value="Crown"]');
        if (fireTypeRadio) fireTypeRadio.checked = true;
      }
    });

    document.addEventListener("keydown", function (e) {
      if (e.ctrlKey && e.key === "2") {
        e.preventDefault();

        fire_location_latitude.value = 51.219800;
        fire_location_longitude.value = -114.547532;
        // fire_year.value = '2000'
        if (fuelType) fuelType.value = 'C1';
        if (weatherConditions) weatherConditions.value = 'Clear';
        if (generalCause) generalCause.value = 'Incendiary';
        if (fireOrigin) fireOrigin.value = 'Metis Settlement';

        const fireTypeRadio = document.querySelector('[name="fire_type"][value="Surface"]');
        if (fireTypeRadio) fireTypeRadio.checked = true;
      }
    });

    document.addEventListener("keydown", function (e) {
      if (e.ctrlKey && e.key === "3") {
        e.preventDefault();

        fire_location_latitude.value = 56.680374;
        fire_location_longitude.value = -114.917607;
        // fire_year.value = '2000'
        if (fuelType) fuelType.value = 'C3';
        if (weatherConditions) weatherConditions.value = 'CB Dry';
        if (generalCause) generalCause.value = 'Lightning';
        if (fireOrigin) fireOrigin.value = 'Provincial Land';

        const fireTypeRadio = document.querySelector('[name="fire_type"][value="Crown"]');
        if (fireTypeRadio) fireTypeRadio.checked = true;
      }
    });

    document.addEventListener("keydown", function (e) {
      if (e.ctrlKey && e.key === "4") {
        e.preventDefault();

        fire_location_latitude.value = 51.219800;
        fire_location_longitude.value = -114.547532;
        // fire_year.value = '2000'
        if (fuelType) fuelType.value = 'M1';
        if (weatherConditions) weatherConditions.value = 'Cloudy';
        if (generalCause) generalCause.value = 'Resident';
        if (fireOrigin) fireOrigin.value = 'Indian Reservation';

        const fireTypeRadio = document.querySelector('[name="fire_type"][value="Surface"]');
        if (fireTypeRadio) fireTypeRadio.checked = true;
      }
    });

    document.addEventListener("keydown", function (e) {
      if (e.ctrlKey && e.key === "5") {
        e.preventDefault();

        fire_location_latitude.value = 51.219800;
        fire_location_longitude.value = -114.547532;
        // fire_year.value = '2000'
        if (fuelType) fuelType.value = 'C6';
        if (weatherConditions) weatherConditions.value = 'Clear';
        if (generalCause) generalCause.value = 'Power Line Industry';
        if (fireOrigin) fireOrigin.value = 'Saskatchewan';

        const fireTypeRadio = document.querySelector('[name="fire_type"][value="Crown"]');
        if (fireTypeRadio) fireTypeRadio.checked = true;
      }
    });
</script>

{% endblock %}
